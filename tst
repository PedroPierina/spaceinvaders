TITLE test
.MODEL small
.STACK 100h

VERIFICAR MACRO MATVIVOS, LARGURAVIVOS, TOTALVIVOS
	PUSH CX
	MOV	TOTALMAT,0
	MOV	LARGURAMAT,0
	XOR	SI,SI

	MOV	TOTALMAT, TOTALVIVOS
	MOV	LARGURAMAT, LARGURAVIVOS
	LEA	SI, MATVIVOS

	CALL VERIFICALIENSVIVOS

	POP 	CX

ENDM

.DATA
	TOTALMAT DB 0
	LARGURAMAT DB 0
	
	NAVESLIVES	DB 1,1,1,1,1,1,1,1,1
	  			DB 1,1,1,1,1,1,1,1,1
	  			DB 1,1,1,1,1,1,1,1,1
	  			DB 1,1,1,1,1,1,1,1,1
	  			DB 1,1,1,1,1,1,1,1,1
	
	XENS1 DW 30
	XENS2 DW 60
	XENS3 DW 90
	XENS4 DW 120
	XENS5 DW 150
	XENS6 DW 180
	XENS7 DW 120
	XENS8 DW 150
	XENS9 DW 180
	
	SALVAX DW 0
	SALVAY DW 0
	
	
.CODE
MOV AX, @DATA
MOV DS, AX
MOV ES, AX

MOV AX, 13H
INT 10h

;VERIFICAR NAVESLIVES, 9, 45
CALL VERIFICAHIT

MOV AH, 4ch
INT 21H




; VERIFICALIENSVIVOS PROC
	; MOV	COUNT,0

	; INICIO:
	
	; MOV	BL, [SI]   ;joga posicao da matriz

	; CMP	BL, 0      ;verifica se esta morto
	; JE	CHANGE1     

	; MOV	BL, 1

	; PRINT0:	
			; INC	SI      ;posicao + 1
			; INC	COUNT   ;count++

			; MOV	BX, LARGURAMAT   ;verifica se atingiu o limite
			; CMP	LADO_X, BX
			; JL	NEXT        ;se nao continua

			; MOV	LADO_X, 0   ;se for, volta
			; INC	LADO_Y      ;aumenta linha

	; NEXT:	
			; MOV	BX, TOTALMAT   ;verifica se ja foi verificado tudo
			; CMP	COUNT, BX
			; JL	INICIO        ;se nao, volta ao inicio

			; RET

; VERIFICALIENSVIVOS ENDP


VERIFICAHIT PROC
MOV BX, XENS1
CMP SALVAX, BX
JE PONTECOL1
INC BX
CMP SALVAX, BX
JE PONTECOL1
INC BX
CMP SALVAX, BX
JE PONTECOL1
INC BX
CMP SALVAX, BX
JE PONTECOL1
INC BX
CMP SALVAX, BX
JE PONTECOL1
INC BX
CMP SALVAX, BX
JE PONTECOL1
INC BX
CMP SALVAX, BX
JE PONTECOL1
INC BX
CMP SALVAX, BX
JE PONTECOL1

MOV BX, XENS2
CMP SALVAX, BX
JE PONTECOL2

MOV BX, XENS3
CMP SALVAX, BX
JE PONTECOL3

MOV BX, XENS4
CMP SALVAX, BX
JE PONTECOL4
							PONTECOL1: JMP COLUNA1
							PONTECOL2: JMP COLUNA2
							PONTECOL3: JMP COLUNA3
							PONTECOL4: JMP COLUNA4
							PONTECOL5: JMP COLUNA5
							PONTECOL6: JMP COLUNA6
							PONTECOL7: JMP COLUNA7
							PONTECOL8: JMP COLUNA8
							PONTECOL9: JMP COLUNA9
MOV BX, XENS5
CMP SALVAX, BX
JE PONTECOL5

MOV BX, XENS6
CMP SALVAX, BX
JE PONTECOL6

MOV BX, XENS7
CMP SALVAX, BX
JE PONTECOL7

MOV BX, XENS8
CMP SALVAX, BX
JE PONTECOL8

MOV BX, XENS9
CMP SALVAX, BX
JE PONTECOL9

COLUNA1:
CMP SALVAY, 30
JE PONTE1
CMP SALVAY, 50
JE PONTE10
CMP SALVAY, 70
JE PONTE19
CMP SALVAY, 90
JE PONTE28
CMP SALVAY, 110
JE PONTE37

PONTE1:  JMP ALIEN1HIT
PONTE10: JMP ALIEN10HIT
PONTE19: JMP ALIEN19HIT
PONTE28: JMP ALIEN28HIT
PONTE37: JMP ALIEN37HIT

COLUNA2:
CMP SALVAY, 30
JE PONTE2
CMP SALVAY, 50
JE PONTE11
CMP SALVAY, 70
JE PONTE20
CMP SALVAY, 90
JE PONTE29
CMP SALVAY, 110
JE PONTE38

PONTE2:  JMP ALIEN2HIT
PONTE11: JMP ALIEN11HIT
PONTE20: JMP ALIEN20HIT
PONTE29: JMP ALIEN29HIT
PONTE38: JMP ALIEN38HIT

COLUNA3:
CMP SALVAY, 30
JE PONTE3
CMP SALVAY, 50
JE PONTE12
CMP SALVAY, 70
JE PONTE21
CMP SALVAY, 90
JE PONTE30
CMP SALVAY, 110
JE PONTE39

PONTE3:  JMP ALIEN3HIT
PONTE12: JMP ALIEN12HIT
PONTE21: JMP ALIEN21HIT
PONTE30: JMP ALIEN30HIT
PONTE39: JMP ALIEN39HIT

COLUNA4:
CMP SALVAY, 30
JE PONTE4
CMP SALVAY, 50
JE PONTE13
CMP SALVAY, 70
JE PONTE22
CMP SALVAY, 90
JE PONTE31
CMP SALVAY, 110
JE PONTE40

PONTE4:  JMP ALIEN4HIT
PONTE13: JMP ALIEN13HIT
PONTE22: JMP ALIEN22HIT
PONTE31: JMP ALIEN31HIT
PONTE40: JMP ALIEN40HIT

COLUNA5:
CMP SALVAY, 30
JE PONTE5
CMP SALVAY, 50
JE PONTE14
CMP SALVAY, 70
JE PONTE23
CMP SALVAY, 90
JE PONTE32
CMP SALVAY, 110
JE PONTE41

PONTE5:  JMP ALIEN5HIT
PONTE14: JMP ALIEN14HIT
PONTE23: JMP ALIEN23HIT
PONTE32: JMP ALIEN32HIT
PONTE41: JMP ALIEN41HIT

COLUNA6:
CMP SALVAY, 30
JE PONTE6
CMP SALVAY, 50
JE PONTE15
CMP SALVAY, 70
JE PONTE24
CMP SALVAY, 90
JE PONTE33
CMP SALVAY, 110
JE PONTE42

PONTE6:  JMP ALIEN6HIT
PONTE15: JMP ALIEN15HIT
PONTE24: JMP ALIEN24HIT
PONTE33: JMP ALIEN33HIT
PONTE42: JMP ALIEN42HIT

COLUNA7:
CMP SALVAY, 30
JE PONTE7
CMP SALVAY, 50
JE PONTE16
CMP SALVAY, 70
JE PONTE25
CMP SALVAY, 90
JE PONTE34
CMP SALVAY, 110
JE PONTE43

PONTE7:  JMP ALIEN7HIT
PONTE16: JMP ALIEN16HIT
PONTE25: JMP ALIEN25HIT
PONTE34: JMP ALIEN34HIT
PONTE43: JMP ALIEN43HIT

COLUNA8:
CMP SALVAY, 30
JE PONTE8
CMP SALVAY, 50
JE PONTE17
CMP SALVAY, 70
JE PONTE26
CMP SALVAY, 90
JE PONTE35
CMP SALVAY, 110
JE PONTE44

PONTE8:  JMP ALIEN8HIT
PONTE17: JMP ALIEN17HIT
PONTE26: JMP ALIEN26HIT
PONTE35: JMP ALIEN35HIT
PONTE44: JMP ALIEN44HIT

COLUNA9:
CMP SALVAY, 30
JE PONTE9
CMP SALVAY, 50
JE PONTE18
CMP SALVAY, 70
JE PONTE27
CMP SALVAY, 90
JE PONTE36
CMP SALVAY, 110
JE PONTE45

PONTE9:  JMP ALIEN9HIT
PONTE18: JMP ALIEN18HIT
PONTE27: JMP ALIEN27HIT
PONTE36: JMP ALIEN36HIT
PONTE45: JMP ALIEN45HIT

ALIEN1HIT:
LEA SI, NAVESLIVES
MOV BL, [SI]
MOV BL, 0
RET
ALIEN2HIT:
LEA SI, NAVESLIVES
ADD SI, 1
MOV BL, [SI]
MOV BL, 0
RET
ALIEN3HIT:
LEA SI, NAVESLIVES
ADD SI, 2
MOV BL, [SI]
MOV BL, 0
RET
ALIEN4HIT:
LEA SI, NAVESLIVES
ADD SI, 3
MOV BL, [SI]
MOV BL, 0
RET
ALIEN5HIT:
LEA SI, NAVESLIVES
ADD SI, 4
MOV BL, [SI]
MOV BL, 0
RET
ALIEN6HIT:
LEA SI, NAVESLIVES
ADD SI, 5
MOV BL, [SI]
MOV BL, 0
RET
ALIEN7HIT:
LEA SI, NAVESLIVES
ADD SI, 6
MOV BL, [SI]
MOV BL, 0
RET
ALIEN8HIT:
LEA SI, NAVESLIVES
ADD SI, 7
MOV BL, [SI]
MOV BL, 0
RET
ALIEN9HIT:
LEA SI, NAVESLIVES
ADD SI, 8
MOV BL, [SI]
MOV BL, 0
RET
ALIEN10HIT:
LEA SI, NAVESLIVES
ADD SI, 9
MOV BL, [SI]
MOV BL, 0
RET
ALIEN11HIT:
LEA SI, NAVESLIVES
ADD SI, 10
MOV BL, [SI]
MOV BL, 0
RET
ALIEN12HIT:
LEA SI, NAVESLIVES
ADD SI, 11
MOV BL, [SI]
MOV BL, 0
RET
ALIEN13HIT:
LEA SI, NAVESLIVES
ADD SI, 12
MOV BL, [SI]
MOV BL, 0
RET
ALIEN14HIT:
LEA SI, NAVESLIVES
ADD SI, 13
MOV BL, [SI]
MOV BL, 0
RET
ALIEN15HIT:
LEA SI, NAVESLIVES
ADD SI, 14
MOV BL, [SI]
MOV BL, 0
RET
ALIEN16HIT:
LEA SI, NAVESLIVES
ADD SI, 15
MOV BL, [SI]
MOV BL, 0
RET
ALIEN17HIT:
LEA SI, NAVESLIVES
ADD SI, 16
MOV BL, [SI]
MOV BL, 0
RET
ALIEN18HIT:
LEA SI, NAVESLIVES
ADD SI, 17
MOV BL, [SI]
MOV BL, 0
RET
ALIEN19HIT:
LEA SI, NAVESLIVES
ADD SI, 18
MOV BL, [SI]
MOV BL, 0
RET
ALIEN20HIT:
LEA SI, NAVESLIVES
ADD SI, 19
MOV BL, [SI]
MOV BL, 0
RET
ALIEN21HIT:
LEA SI, NAVESLIVES
ADD SI, 20
MOV BL, [SI]
MOV BL, 0
RET
ALIEN22HIT:
LEA SI, NAVESLIVES
ADD SI, 21
MOV BL, [SI]
MOV BL, 0
RET
ALIEN23HIT:
LEA SI, NAVESLIVES
ADD SI, 22
MOV BL, [SI]
MOV BL, 0
RET
ALIEN24HIT:
LEA SI, NAVESLIVES
ADD SI, 23
MOV BL, [SI]
MOV BL, 0
RET
ALIEN25HIT:
LEA SI, NAVESLIVES
ADD SI, 24
MOV BL, [SI]
MOV BL, 0
RET
ALIEN26HIT:
LEA SI, NAVESLIVES
ADD SI, 25
MOV BL, [SI]
MOV BL, 0
RET
ALIEN27HIT:
LEA SI, NAVESLIVES
ADD SI, 26
MOV BL, [SI]
MOV BL, 0
RET
ALIEN28HIT:
LEA SI, NAVESLIVES
ADD SI, 27
MOV BL, [SI]
MOV BL, 0
RET
ALIEN29HIT:
LEA SI, NAVESLIVES
ADD SI, 28
MOV BL, [SI]
MOV BL, 0
RET
ALIEN30HIT:
LEA SI, NAVESLIVES
ADD SI, 29
MOV BL, [SI]
MOV BL, 0
RET
ALIEN31HIT:
LEA SI, NAVESLIVES
ADD SI, 30
MOV BL, [SI]
MOV BL, 0
RET
ALIEN32HIT:
LEA SI, NAVESLIVES
ADD SI, 31
MOV BL, [SI]
MOV BL, 0
RET
ALIEN33HIT:
LEA SI, NAVESLIVES
ADD SI, 32
MOV BL, [SI]
MOV BL, 0
RET
ALIEN34HIT:
LEA SI, NAVESLIVES
ADD SI, 33
MOV BL, [SI]
MOV BL, 0
RET
ALIEN35HIT:
LEA SI, NAVESLIVES
ADD SI, 34
MOV BL, [SI]
MOV BL, 0
RET
ALIEN36HIT:
LEA SI, NAVESLIVES
ADD SI, 35
MOV BL, [SI]
MOV BL, 0
RET
ALIEN37HIT:
LEA SI, NAVESLIVES
ADD SI, 36
MOV BL, [SI]
MOV BL, 0
RET
ALIEN38HIT:
LEA SI, NAVESLIVES
ADD SI, 37
MOV BL, [SI]
MOV BL, 0
RET
ALIEN39HIT:
LEA SI, NAVESLIVES
ADD SI, 38
MOV BL, [SI]
MOV BL, 0
RET
ALIEN40HIT:
LEA SI, NAVESLIVES
ADD SI, 39
MOV BL, [SI]
MOV BL, 0
RET
ALIEN41HIT:
LEA SI, NAVESLIVES
ADD SI, 40
MOV BL, [SI]
MOV BL, 0
RET
ALIEN42HIT:
LEA SI, NAVESLIVES
ADD SI, 41
MOV BL, [SI]
MOV BL, 0
RET
ALIEN43HIT:
LEA SI, NAVESLIVES
ADD SI, 42
MOV BL, [SI]
MOV BL, 0
RET
ALIEN44HIT:
LEA SI, NAVESLIVES
ADD SI, 43
MOV BL, [SI]
MOV BL, 0
RET
ALIEN45HIT:
LEA SI, NAVESLIVES
ADD SI, 44
MOV BL, [SI]
MOV BL, 0

RET
VERIFICAHIT ENDP


END




